<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karts</title>
    <link rel="stylesheet" href="style.css">
    <script src="piloto.js"></script>
</head>

<body>

    <h1 id="puesto"></h1>
    <h1 id="nombre"></h1>
    <h1 id="numKart"></h1>
    <h1 id="tiempo"></h1>

    <script>

        var i = 0;
        var j = 0;
        var continuar = "si";
        var carrera = [];
        var pilotos = [];
        const elementoPuesto = document.getElementById("puesto");
        const elementoNombre = document.getElementById("nombre");
        const elementoNumKart = document.getElementById("numKart");
        const elementoTiempo = document.getElementById("tiempo");

        while (continuar == "si") {

            var nombre = prompt("Introduce el nombre del piloto:").toUpperCase();;
            var numKart = parseInt(prompt("Introduce el numero del Kart que conduce " + nombre + ": "));
            var tiempoCarrera = parseFloat(prompt("Introduce los segundos le tomo llegar a la meta: "));

            while (isNaN(numKart) || isNaN(tiempoCarrera)) {
                alert("El numero de kart o el tiempo no es correcto, intentalo de nuevo");
                numKart = parseInt(prompt("Introduce nuevamente el numero del Kart que conduce " + nombre + ": "));
                tiempoCarrera = parseFloat(prompt("Introduce nuevamente los segundos le llevo llegar a la meta: "));

            }

            pilotos.push(new Piloto(nombre, numKart, tiempoCarrera));

            do {
                continuar = prompt("¿deseas agragar otro piloto? si/no").toLowerCase();

            } while (continuar !== "si" && continuar !== "no");


        }

        pilotos.sort((a, b) => a.tiempoCarrera - b.tiempoCarrera);

        for (i = 0; i < pilotos.length; i++) {

            carrera.push([pilotos[i].nombre, pilotos[i].numeroKart, pilotos[i].tiempoCarrera]);
        }

        for (i = 0; i < carrera.length; i++) {

            elementoPuesto.innerHTML += "Nº" + (i + 1) + " ->" + "<br/>";

            for (let j = 0; j < carrera[i].length; j++) {

                switch (j) {

                    case 0:
                        elementoNombre.innerHTML += "Piloto: " + carrera[i][0] + "<br/>";
                        break;

                    case 1:
                        elementoNumKart.innerHTML += "kart Nº" + carrera[i][1] + "<br/>";
                        break;

                    case 2:
                        elementoTiempo.innerHTML += "Tiempo: " + carrera[i][2] + "seg<br/>";
                        break;

                    default:
                }

            }

        }
    </script>

</body>

</html>