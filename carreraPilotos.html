<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="piloto.js"></script>
</head>

<body>

    <h1 id="carrera"></h1>

    <script>

        var i = 0;
        var j = 0;
        var numeroOrdinal = "";
        var continuar = "si";
        var carrera = [];
        var pilotos = [];
        var elementoCarrera = document.getElementById("carrera");

        while (continuar == "si") {

            const nombre = prompt("Introduce el nombre del piloto:").toUpperCase();;
            const numKart = parseInt(prompt("Introduce el numero del Kart que conduce: "));
            const tiempoCarrera = parseFloat(prompt("Introduce los segundos le llevo llegar a la meta: "));

            if (isNaN(numKart) || isNaN(tiempoCarrera)) {
                alert("El numero de kart o el tiempo no es correcto, intentalo de nuevo");
            } else {

                pilotos.push(new Piloto(nombre, numKart, tiempoCarrera));
                do{
                    continuar = prompt("¿deseas agragar otro piloto? si/no").toLowerCase();

                }while(continuar !== "si" && continuar !== "no");
                
            }
        }

        pilotos.sort((a, b) => a.tiempoCarrera - b.tiempoCarrera);

        for (i = 0; i < pilotos.length; i++) {

            carrera.push([pilotos[i].nombre, pilotos[i].numeroKart, pilotos[i].tiempoCarrera]);
        }

        for (i = 0; i < carrera.length; i++) {

            elementoCarrera.innerHTML += "Nº" + (i + 1) + " -> ";

            for (let j = 0; j < carrera[i].length; j++) {

                switch (j) {

                    case 0:
                        elementoCarrera.innerHTML += "Piloto: "
                        break;

                    case 1:
                        elementoCarrera.innerHTML += "kart Nº"
                        break;

                    case 2:
                        elementoCarrera.innerHTML += "Tiempo: "
                        break;

                    default:
                }

                elementoCarrera.innerHTML += carrera[i][j] + " ";
            }

            elementoCarrera.innerHTML += "segundos"

            elementoCarrera.innerHTML += "<br/>";
        }
    </script>

</body>

</html>